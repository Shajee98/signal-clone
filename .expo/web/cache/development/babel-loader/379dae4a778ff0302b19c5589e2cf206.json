{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/shajee/Desktop/signal-clone/Screens/HomeScreen.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useLayoutEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport CustomListItem from \"../components/CustomListItem\";\nimport { Avatar } from 'react-native-elements';\nimport { AntDesign, SimpleLineIcons } from '@expo/vector-icons';\nimport { auth, firebase, db } from \"../firbase\";\n\nvar HomeScreen = function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      chats = _useState2[0],\n      setChats = _useState2[1];\n\n  var signOut = function signOut() {\n    return _regeneratorRuntime.async(function signOut$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(firebase.auth().signOut().then(function () {\n              navigation.replace(\"Login\");\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    var unsubscribe = db.collection('chats').onSnapshot(function (snapshots) {\n      return setChats(snapshots.docs.map(function (doc) {\n        return {\n          id: doc.id,\n          data: doc.data()\n        };\n      }));\n    });\n    return unsubscribe;\n  }, []);\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      title: 'Signal',\n      headerStyle: {\n        backgroundColor: \"#fff\"\n      },\n      headerTitleStyle: {\n        color: \"black\"\n      },\n      headerTintColor: \"black\",\n      headerLeft: function headerLeft() {\n        var _firebase$auth$curren;\n\n        return React.createElement(View, {\n          style: {\n            marginLeft: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 12\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: signOut,\n          activeOpacity: 0.5,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 16\n          }\n        }, React.createElement(Avatar, {\n          rounded: true,\n          source: {\n            uri: (_firebase$auth$curren = firebase.auth().currentUser) == null ? void 0 : _firebase$auth$curren.photoURL\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 16\n          }\n        })));\n      },\n      headerRight: function headerRight() {\n        return React.createElement(View, {\n          style: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            width: 80,\n            marginRight: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }\n        }, React.createElement(TouchableOpacity, {\n          activeOpacity: 0.5,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }\n        }, React.createElement(AntDesign, {\n          name: \"camerao\",\n          size: 24,\n          color: \"black\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }\n        })), React.createElement(TouchableOpacity, {\n          activeOpacity: 0.5,\n          onPress: function onPress() {\n            navigation.navigate(\"AddChat\");\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }\n        }, React.createElement(SimpleLineIcons, {\n          name: \"pencil\",\n          size: 24,\n          color: \"black\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }\n        })));\n      }\n    });\n  }, [navigation]);\n\n  var enterChat = function enterChat(id, chatName) {\n    navigation.navigate('Chat', {\n      id: id,\n      chatName: chatName\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, chats.map(function (_ref2) {\n    var id = _ref2.id,\n        ChatName = _ref2.data.ChatName;\n    return React.createElement(CustomListItem, {\n      key: id,\n      id: id,\n      chatName: ChatName,\n      enterChat: enterChat,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 20\n      }\n    });\n  })));\n};\n\nexport default HomeScreen;\nvar styles = StyleSheet.create({\n  container: {\n    height: \"100%\"\n  }\n});","map":{"version":3,"sources":["/home/shajee/Desktop/signal-clone/Screens/HomeScreen.js"],"names":["React","useEffect","useLayoutEffect","useState","CustomListItem","Avatar","AntDesign","SimpleLineIcons","auth","firebase","db","HomeScreen","navigation","chats","setChats","signOut","then","replace","unsubscribe","collection","onSnapshot","snapshots","docs","map","doc","id","data","setOptions","title","headerStyle","backgroundColor","headerTitleStyle","color","headerTintColor","headerLeft","marginLeft","uri","currentUser","photoURL","headerRight","flexDirection","justifyContent","width","marginRight","navigate","enterChat","chatName","styles","container","ChatName","StyleSheet","create","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from 'react'\nimport { StyleSheet, View, ScrollView, SafeAreaView, TouchableOpacity } from 'react-native'\nimport CustomListItem from '../components/CustomListItem'\nimport { Avatar } from 'react-native-elements'\nimport { AntDesign, SimpleLineIcons } from '@expo/vector-icons'\nimport {auth, firebase, db} from '../firbase';\n\n\nconst HomeScreen = ({navigation}) => {\n    const [chats, setChats] = useState([]);\n\n    const signOut = async () => {\n       await firebase.auth().signOut().then(() => {\n            navigation.replace(\"Login\");\n        });\n    };\n\n    useEffect(() => {\n        const unsubscribe = db.collection('chats').onSnapshot(snapshots => (\n            setChats(snapshots.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))));\n            return unsubscribe;\n    },[]);\n\n\n\n    useLayoutEffect(() => {\n       navigation.setOptions\n       ({\n           title: 'Signal',\n           headerStyle: {backgroundColor: \"#fff\"},\n           headerTitleStyle: {color: \"black\"},\n           headerTintColor: \"black\",\n           headerLeft: () => \n           (\n           <View style={{marginLeft: 20}}>\n               <TouchableOpacity onPress={signOut} activeOpacity={0.5}>\n               <Avatar rounded source={{uri: firebase.auth().currentUser?.photoURL}}/>\n               </TouchableOpacity>           \n           </View>\n           ),\n            headerRight: () => \n            (\n              <View \n              style={{flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              width: 80,\n              marginRight: 20}}>\n              <TouchableOpacity activeOpacity={0.5}>\n              <AntDesign name=\"camerao\" size={24} color=\"black\"/>\n              </TouchableOpacity>\n              <TouchableOpacity activeOpacity={0.5} onPress={() => {navigation.navigate(\"AddChat\")}}>\n              <SimpleLineIcons name=\"pencil\" size={24} color=\"black\"/>\n              </TouchableOpacity>    \n              </View>\n            )\n        });\n    },[navigation])\n\n    const enterChat = (id, chatName) => {\n         navigation.navigate('Chat', {\n             id, \n             chatName\n         })\n    }\n    return (\n        <SafeAreaView>\n            <ScrollView style={styles.container}>\n                {chats.map(({id, data: {ChatName}}) => (\n                   <CustomListItem key={id} id={id} chatName={ChatName} enterChat={enterChat}/>\n                ))}\n            </ScrollView>\n        </SafeAreaView>\n    )\n}\n\nexport default HomeScreen\n\nconst styles = StyleSheet.create({\n    container: {\n        height: \"100%\"\n    }\n})\n"]},"metadata":{},"sourceType":"module"}
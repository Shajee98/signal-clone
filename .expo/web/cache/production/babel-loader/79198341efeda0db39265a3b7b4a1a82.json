{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useLayoutEffect,useState}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import CustomListItem from\"../components/CustomListItem\";import{Avatar}from'react-native-elements';import{AntDesign,SimpleLineIcons}from'@expo/vector-icons';import{auth,firebase,db}from\"../firbase\";var HomeScreen=function HomeScreen(_ref){var navigation=_ref.navigation;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),chats=_useState2[0],setChats=_useState2[1];var signOut=function signOut(){firebase.auth().signOut().then(function(){navigation.replace(\"Login\");});};useEffect(function(){var unsubscribe=db.collection('chats').onSnapshot(function(snapshots){return setChats(snapshots.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return unsubscribe;},[]);useLayoutEffect(function(){navigation.setOptions({title:'Signal',headerStyle:{backgroundColor:\"#fff\"},headerTitleStyle:{color:\"black\"},headerTintColor:\"black\",headerLeft:function headerLeft(){var _firebase$auth$curren;return React.createElement(View,{style:{marginLeft:20}},React.createElement(TouchableOpacity,{onPress:signOut,activeOpacity:0.5},React.createElement(Avatar,{rounded:true,source:{uri:(_firebase$auth$curren=firebase.auth().currentUser)==null?void 0:_firebase$auth$curren.photoURL}})));},headerRight:function headerRight(){return React.createElement(View,{style:{flexDirection:\"row\",justifyContent:\"space-between\",width:80,marginRight:20}},React.createElement(TouchableOpacity,{activeOpacity:0.5},React.createElement(AntDesign,{name:\"camerao\",size:24,color:\"black\"})),React.createElement(TouchableOpacity,{activeOpacity:0.5,onPress:function onPress(){navigation.navigate(\"AddChat\");}},React.createElement(SimpleLineIcons,{name:\"pencil\",size:24,color:\"black\"})));}});},[navigation]);var enterChat=function enterChat(id,chatName){navigation.navigate('Chat',{id:id,chatName:chatName});};return React.createElement(SafeAreaView,null,React.createElement(ScrollView,{style:styles.container},chats.map(function(_ref2){var id=_ref2.id,ChatName=_ref2.data.ChatName;return React.createElement(CustomListItem,{key:id,id:id,chatName:ChatName,enterChat:enterChat});})));};export default HomeScreen;var styles=StyleSheet.create({container:{height:\"100%\"}});","map":{"version":3,"sources":["/home/shajee/Desktop/signal-clone/Screens/HomeScreen.js"],"names":["React","useEffect","useLayoutEffect","useState","CustomListItem","Avatar","AntDesign","SimpleLineIcons","auth","firebase","db","HomeScreen","navigation","chats","setChats","signOut","then","replace","unsubscribe","collection","onSnapshot","snapshots","docs","map","doc","id","data","setOptions","title","headerStyle","backgroundColor","headerTitleStyle","color","headerTintColor","headerLeft","marginLeft","uri","currentUser","photoURL","headerRight","flexDirection","justifyContent","width","marginRight","navigate","enterChat","chatName","styles","container","ChatName","StyleSheet","create","height"],"mappings":"iEAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,eAA3B,CAA4CC,QAA5C,KAA4D,OAA5D,C,yUAEA,MAAOC,CAAAA,cAAP,oCACA,OAASC,MAAT,KAAuB,uBAAvB,CACA,OAASC,SAAT,CAAoBC,eAApB,KAA2C,oBAA3C,CACA,OAAQC,IAAR,CAAcC,QAAd,CAAwBC,EAAxB,kBAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAkB,IAAhBC,CAAAA,UAAgB,MAAhBA,UAAgB,CACjC,cAA0BT,QAAQ,CAAC,EAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClBN,QAAQ,CAACD,IAAT,GAAgBO,OAAhB,GAA0BC,IAA1B,CAA+B,UAAM,CACjCJ,UAAU,CAACK,OAAX,CAAmB,OAAnB,EACH,CAFD,EAGH,CAJD,CAMAhB,SAAS,CAAC,UAAM,CACZ,GAAMiB,CAAAA,WAAW,CAAGR,EAAE,CAACS,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAAAC,SAAS,QAC3DP,CAAAA,QAAQ,CAACO,SAAS,CAACC,IAAV,CAAeC,GAAf,CAAmB,SAAAC,GAAG,QAAK,CAChCC,EAAE,CAAED,GAAG,CAACC,EADwB,CAEhCC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAF0B,CAAL,EAAtB,CAAD,CADmD,EAA3C,CAApB,CAKI,MAAOR,CAAAA,WAAP,CACP,CAPQ,CAOP,EAPO,CAAT,CAWAhB,eAAe,CAAC,UAAM,CACnBU,UAAU,CAACe,UAAX,CACC,CACGC,KAAK,CAAE,QADV,CAEGC,WAAW,CAAE,CAACC,eAAe,CAAE,MAAlB,CAFhB,CAGGC,gBAAgB,CAAE,CAACC,KAAK,CAAE,OAAR,CAHrB,CAIGC,eAAe,CAAE,OAJpB,CAKGC,UAAU,CAAE,sDAEZ,qBAAC,IAAD,EAAM,KAAK,CAAE,CAACC,UAAU,CAAE,EAAb,CAAb,EACI,oBAAC,gBAAD,EAAkB,OAAO,CAAEpB,OAA3B,CAAoC,aAAa,CAAE,GAAnD,EACA,oBAAC,MAAD,EAAQ,OAAO,KAAf,CAAgB,MAAM,CAAE,CAACqB,GAAG,wBAAE3B,QAAQ,CAACD,IAAT,GAAgB6B,WAAlB,eAAE,sBAA6BC,QAAnC,CAAxB,EADA,CADJ,CAFY,EALf,CAaIC,WAAW,CAAE,6BAEX,qBAAC,IAAD,EACA,KAAK,CAAE,CAACC,aAAa,CAAE,KAAhB,CACPC,cAAc,CAAE,eADT,CAEPC,KAAK,CAAE,EAFA,CAGPC,WAAW,CAAE,EAHN,CADP,EAKA,oBAAC,gBAAD,EAAkB,aAAa,CAAE,GAAjC,EACA,oBAAC,SAAD,EAAW,IAAI,CAAC,SAAhB,CAA0B,IAAI,CAAE,EAAhC,CAAoC,KAAK,CAAC,OAA1C,EADA,CALA,CAQA,oBAAC,gBAAD,EAAkB,aAAa,CAAE,GAAjC,CAAsC,OAAO,CAAE,kBAAM,CAAC/B,UAAU,CAACgC,QAAX,CAAoB,SAApB,EAA+B,CAArF,EACA,oBAAC,eAAD,EAAiB,IAAI,CAAC,QAAtB,CAA+B,IAAI,CAAE,EAArC,CAAyC,KAAK,CAAC,OAA/C,EADA,CARA,CAFW,EAbjB,CADD,EA8BF,CA/Bc,CA+Bb,CAAChC,UAAD,CA/Ba,CAAf,CAiCA,GAAMiC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACpB,EAAD,CAAKqB,QAAL,CAAkB,CAC/BlC,UAAU,CAACgC,QAAX,CAAoB,MAApB,CAA4B,CACxBnB,EAAE,CAAFA,EADwB,CAExBqB,QAAQ,CAARA,QAFwB,CAA5B,EAIJ,CALD,CAMA,MACI,qBAAC,YAAD,MACI,oBAAC,UAAD,EAAY,KAAK,CAAEC,MAAM,CAACC,SAA1B,EACKnC,KAAK,CAACU,GAAN,CAAU,mBAAEE,CAAAA,EAAF,OAAEA,EAAF,CAAawB,QAAb,OAAMvB,IAAN,CAAauB,QAAb,OACR,qBAAC,cAAD,EAAgB,GAAG,CAAExB,EAArB,CAAyB,EAAE,CAAEA,EAA7B,CAAiC,QAAQ,CAAEwB,QAA3C,CAAqD,SAAS,CAAEJ,SAAhE,EADQ,EAAV,CADL,CADJ,CADJ,CASH,CApED,CAsEA,cAAelC,CAAAA,UAAf,CAEA,GAAMoC,CAAAA,MAAM,CAAGG,UAAU,CAACC,MAAX,CAAkB,CAC7BH,SAAS,CAAE,CACPI,MAAM,CAAE,MADD,CADkB,CAAlB,CAAf","sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from 'react'\nimport { StyleSheet, View, ScrollView, SafeAreaView, TouchableOpacity } from 'react-native'\nimport CustomListItem from '../components/CustomListItem'\nimport { Avatar } from 'react-native-elements'\nimport { AntDesign, SimpleLineIcons } from '@expo/vector-icons'\nimport {auth, firebase, db} from '../firbase';\n\n\nconst HomeScreen = ({navigation}) => {\n    const [chats, setChats] = useState([]);\n\n    const signOut = () => {\n        firebase.auth().signOut().then(() => {\n            navigation.replace(\"Login\");\n        });\n    };\n\n    useEffect(() => {\n        const unsubscribe = db.collection('chats').onSnapshot(snapshots => (\n            setChats(snapshots.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))));\n            return unsubscribe;\n    },[]);\n\n\n\n    useLayoutEffect(() => {\n       navigation.setOptions\n       ({\n           title: 'Signal',\n           headerStyle: {backgroundColor: \"#fff\"},\n           headerTitleStyle: {color: \"black\"},\n           headerTintColor: \"black\",\n           headerLeft: () => \n           (\n           <View style={{marginLeft: 20}}>\n               <TouchableOpacity onPress={signOut} activeOpacity={0.5}>\n               <Avatar rounded source={{uri: firebase.auth().currentUser?.photoURL}}/>\n               </TouchableOpacity>           \n           </View>\n           ),\n            headerRight: () => \n            (\n              <View \n              style={{flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              width: 80,\n              marginRight: 20}}>\n              <TouchableOpacity activeOpacity={0.5}>\n              <AntDesign name=\"camerao\" size={24} color=\"black\"/>\n              </TouchableOpacity>\n              <TouchableOpacity activeOpacity={0.5} onPress={() => {navigation.navigate(\"AddChat\")}}>\n              <SimpleLineIcons name=\"pencil\" size={24} color=\"black\"/>\n              </TouchableOpacity>    \n              </View>\n            )\n        });\n    },[navigation])\n\n    const enterChat = (id, chatName) => {\n         navigation.navigate('Chat', {\n             id, \n             chatName\n         })\n    }\n    return (\n        <SafeAreaView>\n            <ScrollView style={styles.container}>\n                {chats.map(({id, data: {ChatName}}) => (\n                   <CustomListItem key={id} id={id} chatName={ChatName} enterChat={enterChat}/>\n                ))}\n            </ScrollView>\n        </SafeAreaView>\n    )\n}\n\nexport default HomeScreen\n\nconst styles = StyleSheet.create({\n    container: {\n        height: \"100%\"\n    }\n})\n"]},"metadata":{},"sourceType":"module"}